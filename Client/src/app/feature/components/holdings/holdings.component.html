<div class="mb-10">
    <div class="text-2xl font-bold mb-5">
        Holdings
    </div>
    <div class="flex flex-col gap-5">
        <div class="flex gap-3">
            <div 
                [class]="'rounded-sm py-2 px-4 text-sm cursor-pointer ' + (type() === 'active' ? 'bg-white text-black' : 'bg-secondary')"
                (click)="onTypeChange('active')"
            >
                Active
            </div>
            <div 
                [class]="'rounded-sm py-2 px-4 text-sm cursor-pointer ' + (type() === 'expired' ? 'bg-white text-black' : 'bg-secondary')"
                (click)="onTypeChange('expired')"
            >
                Expired
            </div>
        </div>
        @for (holding of holdings(); track holding.eventTitle) {
            <div class="w-full p-6 px-8 bg-secondary rounded-sm flex justify-between">
                <div class="w-full flex flex-col gap-3">
                    <div class="font-bold text-xl w-full flex justify-between items-end">
                        <div class="">
                            {{ holding.event ? holding.event.title : holding.eventTitle }}
                        </div>
                        <div>
                            {{ holding.quantity }}
                        </div>
                        
                    </div>
                    <div class="flex justify-between">
                        <div>
                            {{ holding.eventId }}
                        </div>
                        @if (holding.lockedQty) {
                            <div>
                                Locked Qty: {{ holding.lockedQty }}
                            </div>
                        }
                    </div>
                </div>
            </div>
        }
        @empty {
            <div class="w-full flex justify-center mt-16">
                <div class="border w-1/3 rounded-sm text-center py-20">
                    No Holdings
                </div>
            </div>
        }
    </div>
</div>